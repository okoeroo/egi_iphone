<html>
<head>

<title>Notice</title>
<link href="style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="jsinterface.js"></script>
<script type="text/javascript" src="jqurl.js"></script>
<script type="text/javascript" src="json.js"></script>
<script type="text/javascript" src="util.js"></script>
<script type="text/javascript" src="data.js"></script>
<script type="text/javascript" src="favorites.js"></script>
<script type="text/javascript" src="filter.js"></script>
<script type="text/javascript" src="helpers.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        // for some reason loading screen won't display if we don't wait 1/10 of a second first
        window.setTimeout(function() {
            var html = '<p class="only">';
            var noticeJson = JSInterface.getNoticeJson();
            var notice = JSON.parse(noticeJson);
            if(notice.didNotLoad) {
                html += 'Unable to load a notice at this time. Check your internet connection.';
            } else {
                if(notice.notice == '') {
                    html += 'There is no notice at this time.';
                } else {
                    html += notice.notice;
                }
            }
            html += '</p>';
            $("#content").html(html);
            
            $("#content").show(400);
            $("#loading").hide(100);
        }, 100);
    });
</script>


<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
var initialLocation;
var amsterdam = new google.maps.LatLng(52.3746, 4.895879);


function initialize() {
  var myOptions = {
    zoom: 14,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  
  // Safari supports the W3C Geolocation method
  if(navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      initialLocation = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
      var placeMarker = new google.maps.Marker({
        position: initialLocation,
        map: map,
      });
      map.setCenter(initialLocation);
    }, function() {
      handleNoGeolocation(browserSupportFlag);
    });
  } else {
    // Browser doesn't support Geolocation
    handleNoGeolocation();
  }
  
  function handleNoGeolocation() {
    initialLocation = amsterdam;
    map.setCenter(initialLocation);
  }
}
</script>
</head>
<body id="body" style="margin:0px; padding:0px;" onload="initialize()">
    <script type="text/javascript">randomBackground();</script>
    <div id="wrapper">
        <h1>EGI Technical Forum 2010<br/>NOTICE</h1>
		<h2>SSID: eduroam</h2>
		
		<h2>SSID: egi2010</h2>		
        <div id="content"></div>
        <div id="loading"><img src="loading.png"></div>
        <div id="jsinterface"></div>
  <div id="map_canvas" style="width:100%; height:50%"></div>
</body>
</html>

